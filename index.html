<html>
    <head>
        <title>Demo Form</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

        <script>
            !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="lWOajUEbU0QbTZJLe4LJnq4h8yWbLURj";;analytics.SNIPPET_VERSION="4.15.3";
            analytics.load("0XBnO9NWRsOtu3ERcCQ46CZaTl0XgHMb");
            analytics.page();
            }}();
        </script>
    </head>
<body>
  <nav style="text-align: center;">
    <a href="/">Home</a> - <a href="/page2.html">Button Events</a>
  </nav>
    <div class="container h-100">
        <div class="row h-100 justify-content-center align-items-center">
    <form class="col-12">
        <fieldset>
        
        <!-- Form Name -->
        <legend>Form Name</legend>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="firstname">First Name</label>  
          <div class="col-md-8">
          <input id="firstname" name="firstname" type="text" placeholder="" class="form-control input-md" required="">
            
          </div>
        </div>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="lastname">Last Name</label>  
          <div class="col-md-8">
          <input id="lastname" name="lastname" type="text" placeholder="" class="form-control input-md" required="">
            
          </div>
        </div>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="company">Company</label>  
          <div class="col-md-8">
          <input id="company" name="company" type="text" placeholder="" class="form-control input-md" required="">
            
          </div>
        </div>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="jobtitle">Job Title</label>  
          <div class="col-md-8">
          <input id="jobtitle" name="jobtitle" type="text" placeholder="" class="form-control input-md">
            
          </div>
        </div>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="emailaddress">Email</label>  
          <div class="col-md-8">
          <input id="emailaddress" name="emailaddress" type="text" placeholder="" class="form-control input-md" required="">
            
          </div>
        </div>
        
        <!-- Text input-->
        <div class="form-group">
          <label class="col-md-4 control-label" for="phonenumber">Phone</label>  
          <div class="col-md-8">
          <input id="phonenumber" name="phonenumber" type="text" placeholder="" class="form-control input-md">
            
          </div>
        </div>
        
        <!-- Multiple Radios (inline) -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="sendsf">Send to SF</label>
          <div class="col-md-8"> 
            <label class="radio-inline" for="sendsf-0">
              <input type="radio" name="sendsf" id="sendsf-0" value="0" checked="checked">
              No
            </label> 
            <label class="radio-inline" for="sendsf-1">
              <input type="radio" name="sendsf" id="sendsf-1" value="1">
              Yes
            </label>
          </div>
        </div>
        
        <!-- Button -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="subbtn"></label>
          <div class="col-md-8">
            <button id="subbtn" name="subbtn" class="btn btn-primary">Submit</button>
          </div>
        </div>
        
        </fieldset>
        </form>
    </div></div>
    <script>
      function chkForm() {

        /*
        const fn = $("#firstname").val();
        const ln = $("#lastname").val();
        const e = $("#emailaddress").val();
        const p = $("#phonenumber").val();
        const c = $("#company").val();
        const j = $("#jobtitle").val();
        */

        var required = $('input,textarea,select').filter('[required]:visible');
        var allRequired = true;
        required.each(function(){
            if($(this).val() == ''){
                allRequired = false;
            }
        });

        return allRequired;

      }
    </script>
    <script>
      $("nav a").on("click", function(){ 
        analytics.track('Menu Link Clicked', {
          title: $(this).text(),
        });
      });

      $("#subbtn").on("click", function(){ 
        let validform = chkForm();
        let cint = ( $('input[name="sendsf"]:checked').val() == 1 ) ? true : false;
        if (validform) {
          analytics.identify( {
            first_name: $("#firstname").val(),
            last_name: $("#lastname").val(),
            email: $("#emailaddress").val(),
            phone: $("#phonenumber").val(),
            company: $("#company").val(),
            job_title: $("#jobtitle").val(),
          }, {
            'integrations': { 'Salesforce': cint }
          } );

          analytics.track('Form Submitted', {
            title: "Sample Form",
            status: "SUCCESS"
          });

          alert("Thank You!");
        } else {
          analytics.track('Form Submitted', {
            title: "Sample Form",
            status: "FAILED",
            error: "Required Fields Missing"
          });

          alert("Form Error!");
        }
        
        return false;
      });

    </script>
</body></html>  